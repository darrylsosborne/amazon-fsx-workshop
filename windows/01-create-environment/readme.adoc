= Create Workshop Environment
:toc:
:icons:
:linkattrs:
:imagesdir: ../../resources/images

This section will create a new environment (see diagram below) that you will use for the workshop.

=== Pricing

NOTE: You will incur charges as you go through this workshop if you exceed the link:http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/free-tier-limits.html[limits of AWS free tier].

It will take approximately 2 hours to complete this workshop and you will be charged approximately *$1.625* to run this environment for 2 hours (based on US East - N. Virginia prices).

|===

| *Service* | *2-hour pricing*
| Amazon FSx for Windows File Server
a| $0.985

| AWS Directory Service
a| $0.240

| Amazon EC2
a| $0.391

| Amazon CloudWatch
a| $0.008

| AWS Secrets Manager
a| $0.001

|===



== Diagram

image::fsx-workshop-environment-architecture.png[align="left", width=600]


== Step-by-step Guide

=== CloudFormation

IMPORTANT: Read through all steps below and watch the quick video before *_clicking_* the *Deploy to AWS* button.

image::create-environment.gif[align="left", width=600]

* Click on the *Deploy to AWS* button and follow the CloudFormation prompts to begin.

NOTE: Amazon FSx is currently available in 6 regions. Please choose the same region where you have your FSx for Windows File Server.


|===

|Region | Launch template with a new VPC
| *N. Virginia* (us-east-1)
a| image::deploy-to-aws.png[link=https://console.aws.amazon.com/cloudformation/home?region=us-east-1#/stacks/new?stackName=fsx-windows-workshop&templateURL=https://s3.amazonaws.com/amazon-fsx/workshop/windows/templates/00-fsx-workshop.yaml]

| *Ohio* (us-east-2)
a| image::deploy-to-aws.png[link=https://console.aws.amazon.com/cloudformation/home?region=us-east-2#/stacks/new?stackName=fsx-windows-workshop&templateURL=https://s3.amazonaws.com/amazon-fsx/workshop/windows/templates/00-fsx-workshop.yaml]

| *Oregon* (us-west-2)
a| image::deploy-to-aws.png[link=https://console.aws.amazon.com/cloudformation/home?region=us-west-2#/stacks/new?stackName=fsx-windows-workshop&templateURL=https://s3.amazonaws.com/amazon-fsx/workshop/windows/templates/00-fsx-workshop.yaml]

| *Ireland* (eu-west-1)
a| image::deploy-to-aws.png[link=https://console.aws.amazon.com/cloudformation/home?region=eu-west-1#/stacks/new?stackName=fsx-windows-workshop&templateURL=https://s3.amazonaws.com/amazon-fsx/workshop/windows/templates/00-fsx-workshop.yaml]

| *Sydney* (ap-southeast-2)
a| image::deploy-to-aws.png[link=https://console.aws.amazon.com/cloudformation/home?region=ap-southeast-2#/stacks/new?stackName=fsx-windows-workshop&templateURL=https://s3.amazonaws.com/amazon-fsx/workshop/windows/templates/00-fsx-workshop.yaml]

| *Tokyo* (ap-northeast-1)
a| image::deploy-to-aws.png[link=https://console.aws.amazon.com/cloudformation/home?region=ap-northeast-1#/stacks/new?stackName=fsx-windows-workshop&templateURL=https://s3.amazonaws.com/amazon-fsx/workshop/windows/templates/00-fsx-workshop.yaml]


|===

* Accept the defaults on the *Prerequisite - Prepare template* page and *_click_* *Next*.

* Accept the default stack name and *_click_* *Next*. *_Enter_* values for all parameters.

=== Parameters

[cols="3,10"]
|===

| *VPC CIDR*
a| Select a CIDR that will be used for the VPC.

| *Availability Zones*
a| Select two (2) availability zones for your VPC.

| *Email address*
a| Enter the email address that will receive notifications for low free storage capacity CloudWatch alarms. Important! An AWS Notification Subscription Confirmation email will be sent to this email address when the CloudFormation stack is created. You must take the action described in that email to confirm the SNS topic subscription before the email address can start receiving alarm notifications.

|===

* After you have entered values for all parameters, *_click_* *Next*.
* *_Accept_* the default values of the *Configure stack options* and *Advanced options* sections and *_click_* *Next*.
* *_Review_* the CloudFormation stack settings.
* *_Click_* both checkboxes in the blue *Capabilities* box at the bottom of the page.

image::cloudformation-capabilities.png[align="left", width=420]

* *_Click_* *Create stack*.



